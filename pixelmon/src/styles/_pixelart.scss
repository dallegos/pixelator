@function pixelador($list) {
  $shadows: ();
  $row: 0;
  $col: 1;

  @for $i from 1 through length($list) {
    @if(nth($list, $i) > 0) {
      $shadows: append(
        $shadows,
        ($col * (0.4rem - 0.04rem)) ($row * (0.4rem - 0.04rem)) 0 var(--pixel-color-#{nth($list, $i)}),
        'comma'
      );
    }

    @if($i % $grid==0) {
      $row: $row + 1;
      $col: 0;
    }

    $col: $col+1;
  }

  @return $shadows;
}


@mixin pixelart($list) {
  @for $i from 1 through length($colors) {
    --pixel-color-#{$i}: #{map-get($colors, $i)};
  }

  box-shadow: pixelador($pixeledImage);

  &.dark {
    @for $i from 1 through length($colors) {
      --pixel-color-#{$i}: #{invert(map-get($colors, $i))};
    }
  }
}


